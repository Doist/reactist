{"version":3,"file":"switch-field.js","sources":["../../src/switch-field/switch-field.tsx"],"sourcesContent":["import * as React from 'react'\nimport { Box } from '../box'\nimport { Stack } from '../stack'\nimport { Text } from '../text'\nimport { HiddenVisually } from '../hidden-visually'\nimport { FieldComponentProps, FieldMessage } from '../base-field'\nimport { useId } from '../utils/common-helpers'\nimport styles from './switch-field.module.css'\n\ninterface SwitchFieldProps\n    extends Omit<\n        FieldComponentProps<HTMLInputElement>,\n        | 'type'\n        | 'auxiliaryLabel'\n        | 'maxWidth'\n        | 'aria-describedby'\n        | 'aria-label'\n        | 'aria-labelledby'\n    > {\n    /**\n     * Identifies the element (or elements) that describes the switch for assistive technologies.\n     */\n    'aria-describedby'?: string\n\n    /**\n     * Defines a string value that labels the current switch for assistive technologies.\n     */\n    'aria-label'?: string\n\n    /**\n     * Identifies the element (or elements) that labels the current switch for assistive technologies.\n     */\n    'aria-labelledby'?: string\n}\n\nconst SwitchField = React.forwardRef<HTMLInputElement, SwitchFieldProps>(function SwitchField(\n    {\n        label,\n        message,\n        tone = 'neutral',\n        disabled = false,\n        hidden,\n        defaultChecked,\n        id: originalId,\n        'aria-describedby': originalAriaDescribedBy,\n        'aria-label': originalAriaLabel,\n        'aria-labelledby': originalAriaLabelledby,\n        onChange,\n        ...props\n    },\n    ref,\n) {\n    const id = useId(originalId)\n    const messageId = useId()\n\n    const ariaDescribedBy = originalAriaDescribedBy ?? (message ? messageId : undefined)\n    const ariaLabel = originalAriaLabel ?? undefined\n    const ariaLabelledBy = originalAriaLabelledby ?? undefined\n\n    const [keyFocused, setKeyFocused] = React.useState(false)\n    const [checkedState, setChecked] = React.useState(props.checked ?? defaultChecked ?? false)\n    const isChecked = props.checked ?? checkedState\n\n    return (\n        <Stack space=\"small\" hidden={hidden}>\n            <Box\n                className={[\n                    styles.container,\n                    disabled ? styles.disabled : null,\n                    isChecked ? styles.checked : null,\n                    keyFocused ? styles.keyFocused : null,\n                ]}\n                as=\"label\"\n                display=\"flex\"\n                alignItems=\"center\"\n            >\n                <Box\n                    position=\"relative\"\n                    display=\"inlineBlock\"\n                    overflow=\"visible\"\n                    marginRight=\"small\"\n                    flexShrink={0}\n                    className={styles.toggle}\n                >\n                    <HiddenVisually>\n                        <input\n                            {...props}\n                            id={id}\n                            type=\"checkbox\"\n                            disabled={disabled}\n                            aria-describedby={ariaDescribedBy}\n                            aria-label={ariaLabel}\n                            aria-labelledby={ariaLabelledBy}\n                            ref={ref}\n                            checked={isChecked}\n                            onChange={(event) => {\n                                onChange?.(event)\n                                if (!event.defaultPrevented) {\n                                    setChecked(event.currentTarget.checked)\n                                }\n                            }}\n                            onBlur={(event) => {\n                                setKeyFocused(false)\n                                props?.onBlur?.(event)\n                            }}\n                            onKeyUp={(event) => {\n                                setKeyFocused(true)\n                                props?.onKeyUp?.(event)\n                            }}\n                        />\n                    </HiddenVisually>\n                    <span className={styles.handle} />\n                </Box>\n                <Text exceptionallySetClassName={styles.label}>{label}</Text>\n            </Box>\n            {message ? (\n                <FieldMessage id={messageId} tone={tone}>\n                    {message}\n                </FieldMessage>\n            ) : null}\n        </Stack>\n    )\n})\n\nexport { SwitchField }\nexport type { SwitchFieldProps }\n"],"names":["SwitchField","React","forwardRef","ref","label","message","tone","disabled","hidden","defaultChecked","id","originalId","originalAriaDescribedBy","originalAriaLabel","originalAriaLabelledby","onChange","props","useId","messageId","ariaDescribedBy","undefined","ariaLabel","ariaLabelledBy","keyFocused","setKeyFocused","useState","checkedState","setChecked","checked","isChecked","createElement","Stack","space","Box","className","styles","container","as","display","alignItems","position","overflow","marginRight","flexShrink","toggle","HiddenVisually","type","event","defaultPrevented","currentTarget","onBlur","onKeyUp","handle","Text","exceptionallySetClassName","FieldMessage"],"mappings":"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"}