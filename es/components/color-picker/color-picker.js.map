{"version":3,"file":"color-picker.js","sources":["../../../src/components/color-picker/color-picker.tsx"],"sourcesContent":["import * as React from 'react'\nimport classnames from 'classnames'\n\nimport DeprecatedDropdown from '../deprecated-dropdown'\nimport { Tooltip } from '../../tooltip'\n\nimport './color-picker.less'\n\ntype NamedColor = { name: string; color: string }\n\nconst COLORS = [\n    '#606060',\n    '#4A90E2',\n    '#03B3B2',\n    '#008299',\n    '#82BA00',\n    '#D24726',\n    '#AC193D',\n    '#DC4FAD',\n    '#3BD5FB',\n    '#74E8D3',\n    '#FFCC00',\n    '#FB886E',\n    '#CCCCCC',\n]\n\nconst _isNamedColor = (color: string | NamedColor | undefined): color is NamedColor =>\n    typeof color !== 'string'\n\nconst _getColor = (colorList: (string | NamedColor)[], colorIndex: number) => {\n    const index = colorIndex >= colorList.length ? 0 : colorIndex\n    return colorList[index]\n}\n\ntype Props = {\n    small?: boolean\n    color?: number\n    onChange?: (color: number) => void\n    colorList?: (string | NamedColor)[]\n}\n\nfunction ColorPicker({ color = 0, small, onChange, colorList = COLORS }: Props) {\n    return (\n        <DeprecatedDropdown.Box right className=\"reactist_color_picker\">\n            <DeprecatedDropdown.Trigger>\n                {(() => {\n                    const backgroundColor = _getColor(colorList, color)\n\n                    return (\n                        <span\n                            className={classnames('color_trigger', { small })}\n                            style={{\n                                backgroundColor: _isNamedColor(backgroundColor)\n                                    ? backgroundColor.color\n                                    : backgroundColor,\n                            }}\n                        >\n                            <span className=\"color_trigger--inner_ring\" />\n                        </span>\n                    )\n                })()}\n            </DeprecatedDropdown.Trigger>\n            <DeprecatedDropdown.Body>\n                <div className=\"color_options\">\n                    {colorList.reduce<React.ReactNode[]>((items, currentColor, currentIndex) => {\n                        items.push(\n                            <ColorItem\n                                isActive={\n                                    color >= colorList.length\n                                        ? currentIndex === 0\n                                        : currentIndex === color\n                                }\n                                key={currentIndex}\n                                color={\n                                    _isNamedColor(currentColor) ? currentColor.color : currentColor\n                                }\n                                colorIndex={currentIndex}\n                                onClick={onChange}\n                                tooltip={_isNamedColor(currentColor) ? currentColor.name : null}\n                            />,\n                        )\n                        return items\n                    }, [])}\n                </div>\n            </DeprecatedDropdown.Body>\n        </DeprecatedDropdown.Box>\n    )\n}\nColorPicker.displayName = 'ColorPicker'\n\ntype ColorItemProps = {\n    color: string\n    colorIndex: number\n    isActive?: boolean\n    onClick?: (colorIndex: number) => void\n    tooltip?: React.ReactNode\n}\n\nfunction ColorItem({ color, colorIndex, isActive, onClick, tooltip }: ColorItemProps) {\n    const item = (\n        <span\n            data-testid=\"reactist-color-item\"\n            className={'reactist color_item' + (isActive ? ' active' : '')}\n            style={{ backgroundColor: color }}\n            onClick={() => onClick?.(colorIndex)}\n        >\n            <span className=\"color_item--inner_ring\" />\n        </span>\n    )\n\n    return tooltip ? <Tooltip content={tooltip}>{item}</Tooltip> : item\n}\nColorItem.displayName = 'ColorItem'\n\nexport { ColorPicker, ColorItem, COLORS }\n"],"names":["COLORS","_isNamedColor","color","_getColor","colorList","colorIndex","index","length","ColorPicker","small","onChange","React","createElement","DeprecatedDropdown","Box","right","className","Trigger","backgroundColor","classnames","style","Body","reduce","items","currentColor","currentIndex","push","ColorItem","isActive","key","onClick","tooltip","name","displayName","item","Tooltip","content"],"mappings":"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"}