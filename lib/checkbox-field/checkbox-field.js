"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("../_virtual/_rollupPluginBabelHelpers.js"),l=require("react"),n=require("../box/box.js"),t=require("../text/text.js"),r=require("./checkbox-icon.js"),a=require("./checkbox-field.module.css.js"),c=require("./use-fork-ref.js");function o(e){if(e&&e.__esModule)return e;var l=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var t=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(l,n,t.get?t:{enumerable:!0,get:function(){return e[n]}})}})),l.default=e,l}var u=o(l);const d=["label","icon","disabled","indeterminate","defaultChecked","onChange"];exports.CheckboxField=u.forwardRef((function(l,o){var i,s,f;let{label:b,icon:h,disabled:p,indeterminate:k,defaultChecked:x,onChange:m}=l,y=e.objectWithoutProperties(l,d);"boolean"!=typeof k||"boolean"==typeof y.checked||(console.warn("Cannot use indeterminate on an uncontrolled checkbox"),k=void 0),b||y["aria-label"]||y["aria-labelledby"]||console.warn("A Checkbox needs a label");const[j,g]=u.useState(!1),[v,C]=u.useState(null!=(i=null!=(s=y.checked)?s:x)&&i),E=null!=(f=y.checked)?f:v,q=u.useRef(null),B=c.useForkRef(q,o);return u.useEffect((function(){q.current&&"boolean"==typeof k&&(q.current.indeterminate=k)}),[k]),u.createElement(n.Box,{as:"label",display:"flex",alignItems:"center",className:[a.default.container,p?a.default.disabled:null,E?a.default.checked:null,j?a.default.keyFocused:null]},u.createElement("input",e.objectSpread2(e.objectSpread2({},y),{},{ref:B,type:"checkbox","aria-checked":k?"mixed":E,checked:E,disabled:p,onChange:e=>{null==m||m(e),e.defaultPrevented||C(e.currentTarget.checked)},onBlur:e=>{g(!1),null==y||null==y.onBlur||y.onBlur(e)},onKeyUp:e=>{g(!0),null==y||null==y.onKeyUp||y.onKeyUp(e)}})),u.createElement(r.CheckboxIcon,{checked:E,disabled:p,indeterminate:k,"aria-hidden":!0}),h?u.createElement(n.Box,{display:"flex",className:a.default.icon,"aria-hidden":!0},h):null,b?u.createElement(n.Box,{display:"flex",className:a.default.label},u.createElement(t.Text,null,b)):null)}));
//# sourceMappingURL=checkbox-field.js.map
